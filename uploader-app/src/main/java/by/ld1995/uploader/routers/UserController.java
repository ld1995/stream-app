package by.ld1995.uploader.routers;

//@RestController
//@RequiredArgsConstructor
public class UserController {

//    private final UserRepository userRepository;

//    @GetMapping("/me")
//    public Mono<ServerResponse> auth(@AuthenticationPrincipal Mono<OAuth2User> auth2User) {
//        return auth2User.map(user -> User.builder()
//                .fullName(user.getAttribute("name"))
//                .picture(user.getAttribute("picture"))
//                .email(user.getAttribute("email"))
//                .build())
//                .doOnNext(user -> userRepository.save(user).subscribe())
//                .log()
//                .flatMap(user -> ServerResponse.ok().body(user, String.class));
//        return ServerResponse.ok().body(userMono.(), String.class);
//    }
}
